(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={Overlay:"Modal_Overlay__1lw2y",Modal:"Modal_Modal__1zyXR"}},12:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2513n"}},15:function(e,t,a){e.exports={Button:"Button_Button__1flhf"}},17:function(e,t,a){e.exports={Load:"Loader_Load__3udtC"}},18:function(e,t,a){e.exports={App:"App_App__1-QfL"}},25:function(e,t,a){},4:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__Unnml",SearchForm:"Searchbar_SearchForm__3_CS8",SearchForm_button:"Searchbar_SearchForm_button__1jrwy",SearchForm_button_label:"Searchbar_SearchForm_button_label__ykVuP",SearchForm_input:"Searchbar_SearchForm_input__WXg_6"}},48:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),o=a.n(c),l=(a(25),a(11)),s=a(3),i=a(4),u=a.n(i),m=a(1);function b(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(s.a)(a,2),c=r[0],o=r[1];return Object(m.jsx)("header",{className:u.a.Searchbar,children:Object(m.jsxs)("form",{className:u.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(c),o("")},children:[Object(m.jsx)("button",{className:u.a.SearchForm_button,type:"submit",children:Object(m.jsx)("span",{className:u.a.SearchForm_button_label,children:"Search"})}),Object(m.jsx)("input",{className:u.a.SearchForm_input,type:"text",name:"pictureName",value:c,onChange:function(e){o(e.currentTarget.value.toLowerCase())},placeholder:"Search images and photos"})]})})}var h=a(9),j=a.n(h);var g=function(e){var t=e.webformatURL,a=e.tags,n=e.largeImageURL,r=e.getLargeIMG;return Object(m.jsx)("li",{className:j.a.ImageGalleryItem,children:Object(m.jsx)("img",{src:t,alt:a,className:j.a.ImageGalleryItem_image,onClick:function(){return r({largeImageURL:n})}})})},d=a(12),p=a.n(d);var _=function(e){var t=e.pictures,a=e.getLargeIMG;return Object(m.jsx)("ul",{className:p.a.ImageGallery,children:t.map((function(e){var t=e.webformatURL,n=e.largeImageURL,r=e.tags,c=e.id;return Object(m.jsx)(g,{webformatURL:t,largeImageURL:n,tags:r,getLargeIMG:a},c)}))})},O=a(13),f=a(14),y=a(20),S=a(19),v=a(10),x=a.n(v),I=document.querySelector("#modal-root"),L=function(e){Object(y.a)(a,e);var t=Object(S.a)(a);function a(){var e;Object(O.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleKeyPressESC=function(t){"Escape"===t.code&&e.props.onClose()},e.clickOnBack=function(t){t.currentTarget===t.target&&e.props.onClose()},e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPressESC)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyPressESC)}},{key:"render",value:function(){return Object(c.createPortal)(Object(m.jsx)("div",{className:x.a.Overlay,onClick:this.clickOnBack,children:Object(m.jsx)("div",{className:x.a.Modal,children:this.props.children})}),I)}}]),a}(n.PureComponent),w=L,k=a(15),G=a.n(k);var C=function(e){var t=e.getMore;return Object(m.jsx)("button",{type:"button",className:G.a.Button,onClick:t,children:"Load more"})},N=a(16),M=a.n(N),F=(a(47),a(17)),E=a.n(F),U=function(){return Object(m.jsx)("div",{className:E.a.Load,children:Object(m.jsx)(M.a,{type:"TailSpin",color:"#c5000a",height:150,width:150,timeout:2e3})})},R=a(18),B=a.n(R);function P(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(1),o=Object(s.a)(c,2),i=o[0],u=o[1],h=Object(n.useState)([]),j=Object(s.a)(h,2),g=j[0],d=j[1],p=Object(n.useState)(!1),O=Object(s.a)(p,2),f=O[0],y=O[1],S=Object(n.useState)(null),v=Object(s.a)(S,2),x=(v[0],v[1]),I=Object(n.useState)("idle"),L=Object(s.a)(I,2),k=L[0],G=L[1],N=Object(n.useState)(null),M=Object(s.a)(N,2),F=M[0],E=M[1];Object(n.useEffect)((function(){a&&R()}),[a]);var R=function(){G("pending");try{fetch("https://pixabay.com/api/?q=".concat(a,"&page=").concat(i,"&key=").concat("23947692-766c5aa41098b9126601621b0","&image_type=photo&orientation=horizontal&per_page=").concat(12)).then((function(e){return e.json()})).then((function(e){d((function(t){return[].concat(Object(l.a)(t),Object(l.a)(e.hits))})),G("resolved"),u((function(e){return e+1})),i>1&&A()}))}catch(e){console.log("Error:",e.message),x({error:e})}finally{G("resolved")}},P=function(){y(!f)},A=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return Object(m.jsxs)("div",{className:B.a.App,children:[Object(m.jsx)(b,{onSubmit:function(e){e!==g&&(r(e),u(1),d([]))}}),"pending"===k&&Object(m.jsx)(U,{}),"resolved"===k&&Object(m.jsx)(_,{pictures:g,getLargeIMG:function(e){var t=e.largeImageURL;E(t),P()}}),g.length>0&&Object(m.jsx)(C,{getMore:function(){R()}}),f&&Object(m.jsx)(w,{onClose:P,children:Object(m.jsx)("img",{src:F,width:"800",height:"600",alt:"Large_Image"})})]})}o.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(P,{})}),document.getElementById("root"))},9:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__28JBp",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__YL7e9"}}},[[48,1,2]]]);
//# sourceMappingURL=main.4f5338b0.chunk.js.map